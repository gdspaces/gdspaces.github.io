<link rel="stylesheet" type="text/css" href="default.css" />
<link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
<link rel="stylesheet" type="text/css" defhref="font-awesome.min.css" />
<script>

function myFunction2() {
  const collection1 = document.getElementsByClassName("outer-discussion-container");
  if (collection1[0].style.display === "none") {
    collection1[0].style.display = "block";
  } else {
    collection1[0].style.display = "none";
  }
}



function myFunction() {
  const collection = document.getElementsByClassName("question-answer");
  if (collection[0].style.display === "none") {
    collection[0].style.display = "block";
  } else {
    collection[0].style.display = "none";
  }
}
</script>


<style>
.btn:not(:disabled):not(.disabled) {
    cursor: pointer;
}

.btn-primary {
    color: #fff;
    background-color: #007bff;
    border-color: #007bff;
}
.btn {
    display: inline-block;
    font-weight: 400;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border: 1px solid transparent;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    border-radius: 0.25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}

.outer-discussion-container {
    display: none;
}
.question-body {
    margin-left: 19px;
}

.question-answer {
    display: none;
    margin-top: 9px;
    padding: 7px;
    border: 1px solid rgb(80, 80, 80);
    border: 1px solid rgba(80, 80, 80, .4);
    border-radius: 3px;
    -webkit-background-clip: padding-box;
    background-clip: padding-box;
}
</style>
<div class="row">
<div class="col-12">
<div class="discussion-list-header">
<h1><i class="fa fa-file-text-o mr-3"></i>Topic5-Question96</h1>
	</div>
</div>
</div>
<hr /><table style="border-collapse: collapse; width: 100%;" border="0"><tbody><tr><td style="width: 30%;"><p style="text-align: left; margin-left: 29px;"><a href="page_383.html">Prv</a></p></td> <td style="width: 40%;"><p style="text-align: center; left;margin-right: 29px;"><a href="https://cloudtech.how/microsoft/exam-az-104-microsoft-azure-administrator/az-104-question-176" rel="noopener noreferrer" target="_blank">Referance Page</a></p></td><td style="width: 30%;"><p style="text-align: right; left;margin-right: 29px;"><a href="page_385.html">Next</a></p></td></tr></tbody></table><div class="question-body mt-3 pt-3 border-top" data-id="804579">
<p class="card-text">
							
								HOTSPOT -<br/>You have a virtual network named VNET1 that contains the subnets shown in the following table:<br/><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0049800002.png"/><br/>You have Azure virtual machines that have the network configurations shown in the following table:<br/><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0049900001.png"/><br/>For NSG1, you create the inbound security rule shown in the following table:<br/><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0049900002.png"/><br/>For NSG2, you create the inbound security rule shown in the following table:<br/><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0049900003.png"/><br/>For each of the following statements, select Yes if the statement is true. Otherwise, select No.<br/>NOTE: Each correct selection is worth one point.<br/>Hot Area:<br/><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0049900004.jpg"/><br/>
</p>
<a class="btn btn-primary reveal-solution" href="#" onclick="myFunction()"> Suggested Answer</a>
<a class="btn btn-primary hide-solution " href="#"  onclick="myFunction2()">Comment</a>
<div class="card-text question-answer bg-light white-text">
<span class="correct-answer-box"><strong>Suggested Answer:</strong>
<span class="correct-answer"><img class="in-exam-image" src="https://www.examtopics.com/assets/media/exam-media/04223/0050000001.jpg"/></span>
<br/>
</span>
<span class="answer-description">
								Box 1: Yes -<br/>The inbound security rule for NSG1 allows TCP port 1433 from 10.10.2.0/24 (or Subnet2 where VM2 and VM3 are located) to 10.10.1.0/24 (or Subnet1 where<br/>VM1 is located) while the inbound security rule for NSG2 blocks TCP port 1433 from 10.10.2.5 (or VM2) to 10.10.1.5 (or VM1). However, the NSG1 rule has a higher priority (or lower value) than the NSG2 rule.<br/><br/>Box 2: Yes -<br/>No rule explicitly blocks communication from VM1. The default rules, which allow communication, are thus applied.<br/><br/>Box 3: Yes -<br/>No rule explicitly blocks communication between VM2 and VM3 which are both on Subnet2. The default rules, which allow communication, are thus applied.<br/>Reference:<br/>https://docs.microsoft.com/en-us/azure/virtual-network/security-overview
							</span>
</div>
</div><div class="container outer-discussion-container">
<div class="row">
<div class="comments-container p-2 w-100">
<!-- New comment start -->

<!-- New comment end -->
<div class="discussion-container">
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="232908" id="comment-232908">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/JohnAvlakiotis/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				JohnAvlakiotis
			</h5>
</a>
<span class="badge badge-primary">
				Highly Voted <i class="fa fa-thumbs-up"></i>
</span>
<span class="comment-date align-middle" title="Wed 02 Dec 2020 12:29">
			2 years, 7 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">I believe it should be No, Yes, Yes. The NSG2 on the NIC of VM1 blocks the request that passes through NSG1 which is attached on the subnet. There is no priority bypass between NSGs. Traffic is filtered independently between NSGs.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">250</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="771899" id="comment-771899">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/darthfodio/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				darthfodio
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 11 Jan 2023 00:39">
			5 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">This is a bit confusing but remember, NSGs attached at the subnet level get priority. Since NSG1 is attached to VNET1- Subnet1, it takes priority over NSG2, which is attached to VM1(this would have to be attached to the NIC).</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="773332" id="comment-773332">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/BJack/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				BJack
			</h5>
</a>
<span class="comment-date align-middle" title="Thu 12 Jan 2023 10:54">
			5 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Subnet attached NSGs don't have priority over NIC attached NSGs.  It depends of whether he traffic is inbound or outbound -
https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">10</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="771901" id="comment-771901">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/darthfodio/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				darthfodio
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 11 Jan 2023 00:41">
			5 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">NSG1 also has a lower priority (101) as well so it would take priority based on the rule priority.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="245381" id="comment-245381">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/rusll/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				rusll
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 16 Dec 2020 10:22">
			2 years, 6 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">I agree, mixing the rules would create a problem : in case we have two rules with the same priority, how would we decide ...</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">5</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="938598" id="comment-938598">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Patesso/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Patesso
			</h5>
</a>
<span class="comment-date align-middle" title="Fri 30 Jun 2023 00:38">
			5 days, 6 hours ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Pour le trafic entrant les regles NSG attachees au Reseau sont prioritaires</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="246716" id="comment-246716">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/rcdumps/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				rcdumps
			</h5>
</a>
<span class="comment-date align-middle" title="Thu 17 Dec 2020 18:52">
			2 years, 6 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">The NSG2 blocks INBOUND requests, not OUTBOUND, hence VM2 can reach VM1.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">10</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="701264" id="comment-701264">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/klexams/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				klexams
			</h5>
</a>
<span class="comment-date align-middle" title="Sat 22 Oct 2022 03:44">
			8 months, 2 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">NSG2 is on VM1 so it block inbound to VM1.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="403448" id="comment-403448">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/tita_tovenaar/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				tita_tovenaar
			</h5>
</a>
<span class="comment-date align-middle" title="Sat 10 Jul 2021 18:52">
			1 year, 11 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">thought so too but it is wrong. Look at the destination addresses.
Basically you can imagine that NSG1 covers subnet 1 and NSG2 covers VM1 specifically. Tricky question, but answer is No. VM3 could RDP into VM1, if that makes it more clear.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">5</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="281642" id="comment-281642">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/JamesDC/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				JamesDC
			</h5>
</a>
<span class="comment-date align-middle" title="Tue 02 Feb 2021 06:39">
			2 years, 5 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Oh Dear!... do you understand VM2 and VM is on different subnets and both NSGs are applicable on subnet1 resources... so, there's no concept of outbound rule... Agree with Jhon, NSG1 is on subnet and NSG2 is on NIC, even VM2 can enter to the sunbet1 but NSG2 will block while going to VM1.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">18</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="635344" id="comment-635344">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Bhuw/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Bhuw
			</h5>
</a>
<span class="comment-date align-middle" title="Fri 22 Jul 2022 21:00">
			11 months, 2 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Think you're correct
https://docs.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#inbound-traffic</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="249188" id="comment-249188">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/aaa112/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				aaa112
			</h5>
</a>
<span class="badge badge-primary">
				Highly Voted <i class="fa fa-thumbs-up"></i>
</span>
<span class="comment-date align-middle" title="Mon 21 Dec 2020 10:42">
			2 years, 6 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">1. NO - VM1 has the NSG1 on Subnet1, which allows traffic over port 1433 between Subnet2 and Subnet1. BUT NSG2 also applied on NIC level for VM1 that blocks the traffic on port 1433. Hence No traffic allowed. Answer is NO.

2. YES - For VM2 there are no NSGs applied neither on subnet or NIC level hence all traffic is allowed.

3. YES - For VM3 there are no NSGs applied neither on subnet or NIC level hence all traffic is allowed.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">152</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="254836" id="comment-254836">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/RogerDingo/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				RogerDingo
			</h5>
</a>
<span class="comment-date align-middle" title="Tue 29 Dec 2020 16:28">
			2 years, 6 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">thanks for confirming.. i came to the same conclusion as you.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">8</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="445464" id="comment-445464">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/LeomHD/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				LeomHD
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 15 Sep 2021 22:53">
			1 year, 9 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Here explanation priority Subnet over NIC: https://docs.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="448192" id="comment-448192">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/monus/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				monus
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 20 Sep 2021 13:48">
			1 year, 9 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">yes, NSG at subnet as well as VM has to be open in order to allow traffic</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="562475" id="comment-562475">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/subramani2018/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				subramani2018
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 07 Mar 2022 09:49">
			1 year, 3 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">but by default tcp3389 blocked in nsg for vm3 right..</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<div class="load-more-section d-print-none mb-1" data-after-comment="562475" data-discussion-id="38454">
<a class="load-full-discussion-button ml-3" href="javascript:void(0)">Load full discussion...</a>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="942692" id="comment-942692">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Mustapha_Hadrich/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Mustapha_Hadrich
			</h5>
</a>
<span class="badge badge-primary">
				Most Recent <i class="fa fa-clock-o"></i>
</span>
<span class="comment-date align-middle" title="Tue 04 Jul 2023 13:38">
			17 hours, 54 minutes ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">do we compare priority between two NSG ? 
I am confused in this case
What I think is every priority in within same NSG and not between NSGs</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="934706" id="comment-934706">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/lulzsec2019/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				lulzsec2019
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 26 Jun 2023 20:09">
			1 week, 1 day ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">I'm confused. I thought if there's no NSG applied, default is auto-deny? so why 2 and 3 are Y?</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="929664" id="comment-929664">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/RandomNickname/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				RandomNickname
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 21 Jun 2023 17:11">
			1 week, 6 days ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Looking at the comments and;

https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#inbound-traffic

Agree with N,Y,Y.
As far as I understated the two NSG rules are processed independently.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="886453" id="comment-886453">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/pgazure/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				pgazure
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 01 May 2023 17:54">
			2 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Unless you have a specific reason to, we recommend that you associate a network security group to a subnet, or a network interface, but not both. Since rules in a network security group associated to a subnet can conflict with rules in a network security group associated to a network interface, you can have unexpected communication problems that require troubleshooting.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="880086" id="comment-880086">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/RDIO/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				RDIO
			</h5>
</a>
<span class="comment-date align-middle" title="Tue 25 Apr 2023 09:42">
			2 months, 1 week ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">First box is easy to understand why is "No". Think about the traffic flow and the direction to where it will go... The traffic reaches NSG1 on the subnet and it says.. "OK you may go", then the next step is the VM and it will reaches the VM NIC and have NSG2 attached that says "No way, this traffic is blocked".</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="861834" id="comment-861834">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Goofer/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Goofer
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 05 Apr 2023 09:23">
			3 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">No: NSG2 block
Yes: default rules NSG1 + NSG2
Yes: traffic in subnet</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="850894" id="comment-850894">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/sjb666/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				sjb666
			</h5>
</a>
<span class="comment-date align-middle" title="Sun 26 Mar 2023 12:32">
			3 months, 1 week ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Hopefully to settle an argument, I lab'd this and tested with IP flow verify:
Y
N
Y
There!</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="844722" id="comment-844722">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Doman01/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Doman01
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 20 Mar 2023 11:01">
			3 months, 2 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">According to this article
https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#inbound-traffic

When you look at the specific scenario they created there and this line "To allow port 80 to the virtual machine, both NSG1 and NSG2 must have a rule that allows port 80 from the internet." it is clear that both NSGs would have to allow inboud over TCP 1433 to VM1 for first box to be YES</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="830446" id="comment-830446">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/ktrfrnd26/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				ktrfrnd26
			</h5>
</a>
<span class="comment-date align-middle" title="Mon 06 Mar 2023 01:00">
			4 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">For inbound traffic, Azure processes the rules in a network security group associated to a subnet first, if there is one, and then the rules in a network security group associated to the network interface, if there is one.

For outbound traffic, Azure processes the rules in a network security group associated to a network interface first, if there is one, and then the rules in a network security group associated to the subnet, if there is one.
Per below - https://learn.microsoft.com/en-us/answers/questions/44091/which-will-override-the-other-azure-nsg-on-the-sub</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="829218" id="comment-829218">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/hfk2020/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				hfk2020
			</h5>
</a>
<span class="comment-date align-middle" title="Sat 04 Mar 2023 18:46">
			4 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">When a network security group (NSG) is applied to a subnet and to a network interface card (NIC) of a virtual machine (VM), the rules of both NSGs are evaluated in the following order:

Inbound traffic from the internet or other subnets is evaluated against the rules of the NSG applied to the subnet.

If the traffic is allowed by the subnet NSG, the inbound traffic is then evaluated against the rules of the NSG applied to the NIC.

If the traffic is allowed by both the subnet NSG and the NIC NSG, the traffic is allowed to the virtual machine.

If the traffic is denied by either the subnet NSG or the NIC NSG, the traffic is blocked and not allowed to the virtual machine.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="803794" id="comment-803794">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/lkjsatlwjwwge/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				lkjsatlwjwwge
			</h5>
</a>
<span class="comment-date align-middle" title="Fri 10 Feb 2023 00:42">
			4 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Y-Y-Y. Regarding the first one, the allow rule takes precedence because subnet NSGs are evaluated before NIC NSGs for inbound traffic (and vice versa). Nothing to do with cross rule priority numbers.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="804309" id="comment-804309">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/zellck/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				zellck
			</h5>
</a>
<span class="comment-date align-middle" title="Fri 10 Feb 2023 13:51">
			4 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">For statement 1, after NSG2 is evaluated, NSG1 is evaluated which will block the traffic.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">3</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="803507" id="comment-803507">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/zellck/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				zellck
			</h5>
</a>
<span class="comment-date align-middle" title="Thu 09 Feb 2023 18:07">
			4 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">NYY is the answer.

https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#inbound-traffic
For inbound traffic, Azure processes the rules in a network security group associated to a subnet first, if there's one, and then the rules in a network security group associated to the network interface, if there's one. This includes intra-subnet traffic as well.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">4</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="809745" id="comment-809745">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/zellck/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				zellck
			</h5>
</a>
<span class="comment-date align-middle" title="Wed 15 Feb 2023 17:39">
			4 months, 2 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Got this in Feb 2023 exam.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="798698" id="comment-798698">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/DeBoer/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				DeBoer
			</h5>
</a>
<span class="comment-date align-middle" title="Sun 05 Feb 2023 10:07">
			4 months, 4 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">2nd one might be "NO" since it's between VNets and the question doesn't state that peering is on... but then 1st one would be "NO" as well.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="830041" id="comment-830041">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/msingh20/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				msingh20
			</h5>
</a>
<span class="comment-date align-middle" title="Sun 05 Mar 2023 16:39">
			4 months ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">They are under the same VNET just different subnets.. as long as they are in the same subnet the allow virtual network inbound rule would set on vm2 and vm3 by default on all ports.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="790882" id="comment-790882">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/dagomo/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				dagomo
			</h5>
</a>
<span class="comment-date align-middle" title="Sat 28 Jan 2023 18:47">
			5 months, 1 week ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">NO - VM1 is linked to NSG2 that blocks TCP/1433 from 10.10.2.5 (VM2) to 10.10.1.5 (VM1). Subnet 1 allows the communication but it is blocked on VM1 NIC.

NO - VM2 (the target machine) has no NSG neigther on NIC nor on Subnet 2 - all incoming requests are blocked.

NO - VM3 (the target machine) has no NSG neigther on NIC nor on Subnet 2 - all incoming requests are blocked.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">2</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="801005" id="comment-801005">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/chikorita/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				chikorita
			</h5>
</a>
<span class="comment-date align-middle" title="Tue 07 Feb 2023 15:36">
			4 months, 3 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">brother, if no NSG is associated then ALL TRAFFIC IS ALLOWED (default config unlike you come from AWS background)
NSGs are put in place to restrict traffic</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="722426" id="comment-722426">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/KingChuang/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				KingChuang
			</h5>
</a>
<span class="comment-date align-middle" title="Sun 20 Nov 2022 07:17">
			7 months, 2 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">According thie doc.
https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works

You can associate zero, or one, network security group to each virtual network subnet and network interface in a virtual machine.

So in box1, the traffic flow is VM2→NSG1→NSG2→VM1
NSG2 will deny it.

Box1 : N

Therefore, it is not that NSG1 Priority is greater than NSG2 as others have said.
That refers to the order of RULE in NSG. It does not mean that the NSGs in the whole process are mixed together to compare Priority.</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">6</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- single_comment.html -->
<div class="media comment-container" data-comment-id="768789" id="comment-768789">
<a class="minimize-comment comment-toggle" href="#">
<i class="fa fa-minus-square-o mr-2 mt-1"></i>
</a>
<a class="maximize-comment comment-toggle" href="#">
<i class="fa fa-plus-square-o mr-2 mt-1"></i>
</a>
<div class="media-body">
<div class="comment-head">
<i class="fa fa-user mr-1 mt-1"></i>
<a href="/user/Alex2022_31/">
<h5 class="mt-0 mb-0 align-middle d-inline-block comment-username">
				Alex2022_31
			</h5>
</a>
<span class="comment-date align-middle" title="Sat 07 Jan 2023 18:48">
			5 months, 4 weeks ago
		</span>
</div>
<div class="comment-body comment-toggled">
<div class="comment-content">Completely agree: the link you provide is very clear on that.

For inbound trafic from VM2 to VM1:
VM1: The security rules in NSG1 are processed, since it's associated to Subnet1 and VM1 is in Subnet1. 
The rule created allows port 1433 inbound, so the traffic is allowed by the security rule
The traffic is then processed by NSG2 which denied access to the virtual machine VM1 from VM2. 
Both NSG1 and NSG2 must have a rule that allows port 1433 from the VM2 subnet or VM2 to allow the connection.

Box 1: NO</div>
<div class="comment-control">
<span class="comment-control-buttons d-print-none">
<a class="comment-upvote requires-login" href="#" title="Upvote"><i class="fa fa-thumbs-up"></i></a>
<a class="ml-2 comment-reply-to requires-login" href="#" title="Reply"><i class="fa fa-reply"></i></a>
<a class="ml-2 comment-flag-report requires-login" href="#" title="Report"><i class="fa fa-flag"></i></a>
</span>
<span class="ml-2 upvote-text">
				upvoted <span class="upvote-count">1</span> times
			</span>
<span class="comment-control-error ml-2"></span>
</div>
<div class="new-comment-box-container mt-2">
</div>
<div class="comment-replies">
<!-- Nesting start -->
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<!-- Nesting end -->
</div>
</div>
<div class="comment-ellipsis comment-toggled">
		...
	</div>
</div>
</div>
<div class="load-more-section d-print-none mb-1" data-after-comment="722426" data-discussion-id="38454">
<a class="load-full-discussion-button ml-3" href="javascript:void(0)">Load full discussion...</a>
</div>
</div>
</div>
</div>
</div>